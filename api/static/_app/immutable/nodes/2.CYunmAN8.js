import{c as Y,a as s,f as c,t as B,s as E}from"../chunks/DXVr3TX4.js";import{i as Ye}from"../chunks/CL5J6ee3.js";import{f as v,p as Ze,o as et,l as ke,a as tt,b as at,g as o,c as t,d as H,m as X,r as e,s as a,e as ye,n as u,t as W,u as O}from"../chunks/yKYHuomA.js";import{l as Ce,b as je,i as T,s as rt,a as Pe}from"../chunks/01UUdhOg.js";import{I as ze,c as Se,e as ce,i as ue}from"../chunks/TgNKz3rK.js";import{i as st,u as ot}from"../chunks/ZiicVdhW.js";import{g as I}from"../chunks/1EbW75xl.js";import{B as V,C as j}from"../chunks/CMzhJ-sK.js";import{B as q}from"../chunks/Ba5MWzQS.js";import{S as J}from"../chunks/Cw1zHoOm.js";import{R as lt}from"../chunks/ffg_MrFx.js";import{C as it}from"../chunks/BUY1kFW0.js";import{C as Ae}from"../chunks/BkbHu8l_.js";import{L as dt}from"../chunks/BgF-E8vV.js";import{P as nt}from"../chunks/CnIMmsLf.js";import{S as Ne}from"../chunks/BIEDCsch.js";import{U as fe}from"../chunks/C2dVUy_s.js";import{S as vt}from"../chunks/ofbBDwVA.js";import{B as pe}from"../chunks/Cw7UC6b6.js";import{C as ct}from"../chunks/BFNN5dmS.js";import{C as ut}from"../chunks/BZubJZJg.js";import{C as ft}from"../chunks/C8yvqpl4.js";function pt(K,U){const D=Ce(U,["children","$$slots","$$events","$$legacy"]);const G=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2"}]];ze(K,je({name:"activity"},()=>D,{get iconNode(){return G},children:(F,ee)=>{var y=Y(),R=v(y);Se(R,U,"default",{}),s(F,y)},$$slots:{default:!0}}))}function _t(K,U){const D=Ce(U,["children","$$slots","$$events","$$legacy"]);const G=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5"}],["path",{d:"M3 12A9 3 0 0 0 21 12"}]];ze(K,je({name:"database"},()=>D,{get iconNode(){return G},children:(F,ee)=>{var y=Y(),R=v(y);Se(R,U,"default",{}),s(F,y)},$$slots:{default:!0}}))}var mt=c("<!> Dashboard Admin",1),ht=c('Ol√°, <span class="text-brand-600"> </span> üëã',1),$t=c('<!> <span class="hidden sm:inline">Atualizar</span>',1),gt=c('<!> <span class="hidden sm:inline">Nova OS</span>',1),xt=c("<!> <!> <!>",1),bt=c('<div class="absolute -right-4 -bottom-4 w-24 h-24 bg-brand-500/5 rounded-full blur-2xl"></div> <div class="flex items-start justify-between relative z-10"><div class="p-3 bg-brand-600 text-white rounded-2xl shadow-lg shadow-brand-200 group-hover:scale-110 transition-transform"><!></div> <!></div> <div class="mt-4 relative z-10"><p class="text-sm font-bold text-surface-500 uppercase tracking-wider">Total Ativos</p> <h3 class="text-3xl font-black text-surface-900 mt-1"> </h3></div>',1),wt=c('<div class="flex items-start justify-between"><div class="p-3 bg-green-50 text-green-600 rounded-2xl"><!></div> <!></div> <div class="mt-4"><p class="text-sm font-bold text-surface-500 uppercase tracking-wider">Status API</p> <h3 class="text-3xl font-black text-surface-900 mt-1">Est√°vel</h3></div>',1),kt=c('<div class="flex items-start justify-between"><div class="p-3 bg-purple-50 text-purple-600 rounded-2xl"><!></div> <!></div> <div class="mt-4"><p class="text-sm font-bold text-surface-500 uppercase tracking-wider">Core Engine</p> <h3 class="text-3xl font-black text-surface-900 mt-1">Ativo</h3></div>',1),yt=c('<div class="absolute -right-4 -bottom-4 w-24 h-24 bg-blue-500/5 rounded-full blur-2xl"></div> <div class="flex items-start justify-between relative z-10"><div class="p-3 bg-blue-600 text-white rounded-2xl shadow-lg shadow-blue-200 group-hover:scale-110 transition-transform"><!></div> <!></div> <div class="mt-4 relative z-10"><p class="text-sm font-bold text-surface-500 uppercase tracking-wider">Base Total</p> <h3 class="text-3xl font-black text-surface-900 mt-1"> </h3></div>',1),Pt=c("<!> <!> <!> <!>",1),At=c('<div class="absolute -right-4 -bottom-4 w-24 h-24 bg-blue-500/5 rounded-full blur-2xl"></div> <div class="flex items-start justify-between relative z-10"><div class="p-3 bg-blue-600 text-white rounded-2xl shadow-lg shadow-blue-200 group-hover:scale-110 transition-transform"><!></div> <!></div> <div class="mt-4 relative z-10"><p class="text-sm font-bold text-surface-500 uppercase tracking-wider">Ordens de Servi√ßo</p> <h3 class="text-3xl font-black text-surface-900 mt-1"> </h3></div>',1),Nt=c('<div class="absolute -right-4 -bottom-4 w-24 h-24 bg-orange-500/5 rounded-full blur-2xl"></div> <div class="flex items-start justify-between relative z-10"><div class="p-3 bg-orange-600 text-white rounded-2xl shadow-lg shadow-orange-200 group-hover:scale-110 transition-transform"><!></div> <!></div> <div class="mt-4 relative z-10"><p class="text-sm font-bold text-surface-500 uppercase tracking-wider">Em Andamento</p> <h3 class="text-3xl font-black text-surface-900 mt-1"> </h3></div>',1),Ct=c('<div class="flex items-start justify-between"><div class="p-3 bg-green-50 text-green-600 rounded-2xl"><!></div> <!></div> <div class="mt-4"><p class="text-sm font-bold text-surface-500 uppercase tracking-wider">Conclu√≠das</p> <h3 class="text-3xl font-black text-surface-900 mt-1"> </h3></div>',1),jt=c('<div class="flex items-start justify-between"><div class="p-3 bg-purple-50 text-purple-600 rounded-2xl"><!></div> <!></div> <div class="mt-4"><p class="text-sm font-bold text-surface-500 uppercase tracking-wider">Base Ativa</p> <h3 class="text-3xl font-black text-surface-900 mt-1"> </h3></div>',1),zt=c("<!> <!> <!> <!>",1),St=c("Ver tudo <!>",1),Bt=c('<div class="flex gap-4"><!> <div class="flex-1"><!> <!></div></div>'),Mt=c('<div class="space-y-4"></div>'),Ot=c('<div class="p-4 bg-surface-50 rounded-full w-fit mx-auto mb-4"><!></div> <p class="text-surface-400 font-medium">Nenhuma atividade registrada recentemente.</p>',1),Et=c('<div class="flex items-center gap-4"><div class="w-12 h-12 rounded-xl bg-surface-100 flex items-center justify-center group-hover:bg-white transition-all shadow-sm"><!></div> <div class="flex-1 min-w-0"><p class="font-bold text-surface-900 truncate"> </p> <div class="flex items-center gap-2 mt-0.5"><!> <span class="text-xs text-surface-400 font-medium truncate"> </span></div></div> <!></div>'),It=c('<div class="space-y-3"></div>'),Wt=c("<!> Controle de Usu√°rios",1),qt=c("<!> Par√¢metros Globais",1),Dt=c('<h3 class="text-xl font-black text-surface-900 mb-6 flex items-center gap-3"><!> Gest√£o</h3> <div class="space-y-4"><!> <!></div>',1),Lt=c(`<h4 class="font-black text-lg mb-2">Dica de Efici√™ncia</h4> <p class="text-brand-100 text-sm leading-relaxed mb-6">Mantenha o status das suas OS atualizados para que o cliente receba
            notifica√ß√µes autom√°ticas via WhatsApp.</p> <!>`,1),Rt=c('<h4 class="font-black text-surface-900 mb-6 flex items-center gap-2"><!> Agenda</h4> <div class="flex flex-col items-center justify-center py-8 text-center border-2 border-dashed border-surface-100 rounded-2xl"><!> <p class="text-xs text-surface-400 font-medium">Agenda vazia para hoje</p></div> <!>',1),Tt=c('<div class="space-y-8 pb-24"><div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4"><div><h1 class="text-3xl font-extrabold text-surface-900 tracking-tight flex items-center gap-3"><!></h1> <p class="text-surface-500 mt-1 font-medium"><!></p></div> <div class="flex items-center gap-3"><!> <!></div></div> <div class="grid grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6"><!></div> <div class="grid grid-cols-1 lg:grid-cols-3 gap-8"><div class="lg:col-span-2 space-y-6"><div class="flex items-center justify-between"><h2 class="text-xl font-black text-surface-900 flex items-center gap-3"><!> Atividade Recente</h2> <!></div> <!></div> <div class="space-y-6"><!> <!></div></div></div>');function ca(K,U){Ze(U,!1);const D=()=>Pe(st,"$isAdmin",F),G=()=>Pe(ot,"$user",F),[F,ee]=rt(),y=X(),R=X();let Q=X(null),te=X(!0),Z=X(!1);async function _e(){try{const r=localStorage.getItem("token"),i=await fetch("/api/dashboard",{headers:{Authorization:`Bearer ${r}`}});i.ok&&H(Q,await i.json())}catch(r){console.error("Error loading dashboard:",r)}finally{H(te,!1)}}async function Be(){H(Z,!0),await _e(),H(Z,!1)}et(()=>{_e()}),ke(()=>o(Q),()=>{H(y,o(Q)?.stats||{})}),ke(()=>o(Q),()=>{H(R,o(Q)?.recent_orders||[])}),tt(),Ye();var ae=Tt(),re=t(ae),se=t(re),oe=t(se),Me=t(oe);{var Oe=r=>{var i=mt(),m=v(i);dt(m,{class:"w-8 h-8 text-brand-600"}),u(),s(r,i)},Ee=r=>{var i=ht(),m=a(v(i)),f=t(m,!0);e(m),u(),W(k=>E(f,k),[()=>(G(),O(()=>G()?.nome_completo?.split(" ")[0]))]),s(r,i)};T(Me,r=>{D()?r(Oe):r(Ee,!1)})}e(oe);var me=a(oe,2),Ie=t(me);{var We=r=>{var i=B("Monitoramento global do sistema Inovar");s(r,i)},qe=r=>{var i=B("Aqui est√° o resumo da sua opera√ß√£o hoje");s(r,i)};T(Ie,r=>{D()?r(We):r(qe,!1)})}e(me),e(se);var he=a(se,2),$e=t(he);V($e,{variant:"secondary",get loading(){return o(Z)},$$events:{click:Be},children:(r,i)=>{var m=$t(),f=v(m);{let k=ye(()=>o(Z)?"animate-spin":"");lt(f,{get class(){return`w-4 h-4 ${o(k)??""}`}})}u(2),s(r,m)},$$slots:{default:!0}});var De=a($e,2);{var Le=r=>{V(r,{variant:"primary",$$events:{click:()=>I("/nova-solicitacao")},children:(i,m)=>{var f=gt(),k=v(f);nt(k,{class:"w-5 h-5"}),u(2),s(i,f)},$$slots:{default:!0}})};T(De,r=>{D()||r(Le)})}e(he),e(re);var le=a(re,2),Re=t(le);{var Te=r=>{var i=Y(),m=v(i);ce(m,0,()=>Array(4),ue,(f,k)=>{j(f,{padding:"p-6",children:(h,g)=>{var b=xt(),n=v(b);J(n,{width:"40px",height:"40px",circle:!0,className:"mb-4"});var w=a(n,2);J(w,{width:"60%",height:"1.5rem",className:"mb-2"});var z=a(w,2);J(z,{width:"40%",height:"1rem"}),s(h,b)},$$slots:{default:!0}})}),s(r,i)},Ue=r=>{var i=Y(),m=v(i);{var f=h=>{var g=Pt(),b=v(g);j(b,{interactive:!0,padding:"p-6",className:"group overflow-hidden relative",$$events:{click:()=>I("/usuarios")},children:(p,C)=>{var _=bt(),d=a(v(_),2),l=t(d),A=t(l);fe(A,{class:"w-6 h-6"}),e(l);var P=a(l,2);q(P,{variant:"brand",children:(M,L)=>{u();var S=B("Usu√°rios");s(M,S)},$$slots:{default:!0}}),e(d);var $=a(d,2),x=a(t($),2),N=t(x,!0);e(x),e($),W(()=>E(N,(o(y),O(()=>o(y).total_users||0)))),s(p,_)},$$slots:{default:!0}});var n=a(b,2);j(n,{padding:"p-6",children:(p,C)=>{var _=wt(),d=v(_),l=t(d),A=t(l);vt(A,{class:"w-6 h-6"}),e(l);var P=a(l,2);q(P,{variant:"success",children:($,x)=>{u();var N=B("Online");s($,N)},$$slots:{default:!0}}),e(d),u(2),s(p,_)},$$slots:{default:!0}});var w=a(n,2);j(w,{padding:"p-6",children:(p,C)=>{var _=kt(),d=v(_),l=t(d),A=t(l);_t(A,{class:"w-6 h-6"}),e(l);var P=a(l,2);q(P,{variant:"neutral",children:($,x)=>{u();var N=B("v1.2.4");s($,N)},$$slots:{default:!0}}),e(d),u(2),s(p,_)},$$slots:{default:!0}});var z=a(w,2);j(z,{interactive:!0,padding:"p-6",className:"group overflow-hidden relative",$$events:{click:()=>I("/clientes")},children:(p,C)=>{var _=yt(),d=a(v(_),2),l=t(d),A=t(l);pe(A,{class:"w-6 h-6"}),e(l);var P=a(l,2);q(P,{variant:"info",children:(M,L)=>{u();var S=B("Clientes");s(M,S)},$$slots:{default:!0}}),e(d);var $=a(d,2),x=a(t($),2),N=t(x,!0);e(x),e($),W(()=>E(N,(o(y),O(()=>o(y).total_clients||0)))),s(p,_)},$$slots:{default:!0}}),s(h,g)},k=h=>{var g=zt(),b=v(g);j(b,{interactive:!0,padding:"p-6",className:"group overflow-hidden relative",$$events:{click:()=>I("/solicitacoes")},children:(p,C)=>{var _=At(),d=a(v(_),2),l=t(d),A=t(l);pe(A,{class:"w-6 h-6"}),e(l);var P=a(l,2);q(P,{variant:"info",children:(M,L)=>{u();var S=B("Total");s(M,S)},$$slots:{default:!0}}),e(d);var $=a(d,2),x=a(t($),2),N=t(x,!0);e(x),e($),W(()=>E(N,(o(y),O(()=>o(y).total_orders||0)))),s(p,_)},$$slots:{default:!0}});var n=a(b,2);j(n,{interactive:!0,padding:"p-6",className:"group overflow-hidden relative",$$events:{click:()=>I("/solicitacoes")},children:(p,C)=>{var _=Nt(),d=a(v(_),2),l=t(d),A=t(l);ct(A,{class:"w-6 h-6"}),e(l);var P=a(l,2);q(P,{variant:"warning",children:(M,L)=>{u();var S=B("Abertas");s(M,S)},$$slots:{default:!0}}),e(d);var $=a(d,2),x=a(t($),2),N=t(x,!0);e(x),e($),W(()=>E(N,(o(y),O(()=>o(y).open_orders||0)))),s(p,_)},$$slots:{default:!0}});var w=a(n,2);j(w,{padding:"p-6",children:(p,C)=>{var _=Ct(),d=v(_),l=t(d),A=t(l);ut(A,{class:"w-6 h-6"}),e(l);var P=a(l,2);q(P,{variant:"success",children:(M,L)=>{u();var S=B("Finalizadas");s(M,S)},$$slots:{default:!0}}),e(d);var $=a(d,2),x=a(t($),2),N=t(x,!0);e(x),e($),W(()=>E(N,(o(y),O(()=>o(y).completed_orders||0)))),s(p,_)},$$slots:{default:!0}});var z=a(w,2);j(z,{interactive:!0,padding:"p-6",$$events:{click:()=>I("/clientes")},children:(p,C)=>{var _=jt(),d=v(_),l=t(d),A=t(l);fe(A,{class:"w-6 h-6"}),e(l);var P=a(l,2);q(P,{variant:"brand",children:(M,L)=>{u();var S=B("Clientes");s(M,S)},$$slots:{default:!0}}),e(d);var $=a(d,2),x=a(t($),2),N=t(x,!0);e(x),e($),W(()=>E(N,(o(y),O(()=>o(y).total_clients||0)))),s(p,_)},$$slots:{default:!0}}),s(h,g)};T(m,h=>{D()?h(f):h(k,!1)},!0)}s(r,i)};T(Re,r=>{o(te)?r(Te):r(Ue,!1)})}e(le);var ge=a(le,2),ie=t(ge),de=t(ie),ne=t(de),Ve=t(ne);pt(Ve,{class:"w-6 h-6 text-brand-600"}),u(),e(ne);var Ge=a(ne,2);V(Ge,{variant:"ghost",size:"sm",$$events:{click:()=>I("/solicitacoes")},children:(r,i)=>{u();var m=St(),f=a(v(m));it(f,{class:"w-4 h-4 ml-1"}),s(r,m)},$$slots:{default:!0}}),e(de);var Fe=a(de,2);{var He=r=>{var i=Mt();ce(i,4,()=>Array(3),ue,(m,f)=>{j(m,{padding:"p-4",children:(k,h)=>{var g=Bt(),b=t(g);J(b,{width:"48px",height:"48px",className:"rounded-xl"});var n=a(b,2),w=t(n);J(w,{width:"40%",height:"1.2rem",className:"mb-2"});var z=a(w,2);J(z,{width:"20%",height:"0.8rem"}),e(n),e(g),s(k,g)},$$slots:{default:!0}})}),e(i),s(r,i)},Je=r=>{var i=Y(),m=v(i);{var f=h=>{j(h,{padding:"p-12",className:"text-center",children:(g,b)=>{var n=Ot(),w=v(n),z=t(w);ft(z,{class:"w-8 h-8 text-surface-300"}),e(w),u(2),s(g,n)},$$slots:{default:!0}})},k=h=>{var g=It();ce(g,5,()=>o(R),ue,(b,n)=>{j(b,{interactive:!0,padding:"p-4",$$events:{click:()=>I(`/solicitacao/${o(n).id}`)},children:(w,z)=>{var p=Et(),C=t(p),_=t(C);pe(_,{class:"w-6 h-6 text-surface-500"}),e(C);var d=a(C,2),l=t(d),A=t(l,!0);e(l);var P=a(l,2),$=t(P);q($,{variant:"neutral",size:"sm",children:(L,S)=>{u();var ve=B();W(()=>E(ve,`#${o(n),O(()=>o(n).sequential_id)??""}`)),s(L,ve)},$$slots:{default:!0}});var x=a($,2),N=t(x,!0);e(x),e(P),e(d);var M=a(d,2);{let L=ye(()=>(o(n),O(()=>o(n).status==="concluido"||o(n).status==="faturado"?"success":"warning")));q(M,{get variant(){return o(L)},children:(S,ve)=>{u();var we=B();W(()=>E(we,(o(n),O(()=>o(n).status)))),s(S,we)},$$slots:{default:!0}})}e(p),W(()=>{E(A,(o(n),O(()=>o(n).titulo))),E(N,(o(n),O(()=>o(n).client_name||"Cliente n√£o informado")))}),s(w,p)},$$slots:{default:!0}})}),e(g),s(h,g)};T(m,h=>{o(R),O(()=>!o(R).length)?h(f):h(k,!1)},!0)}s(r,i)};T(Fe,r=>{o(te)?r(He):r(Je,!1)})}e(ie);var xe=a(ie,2),be=t(xe);{var Ke=r=>{j(r,{padding:"p-8",children:(i,m)=>{var f=Dt(),k=v(f),h=t(k);Ne(h,{class:"w-6 h-6 text-brand-600"}),u(),e(k);var g=a(k,2),b=t(g);V(b,{fullWidth:!0,variant:"secondary",className:"justify-start",$$events:{click:()=>I("/usuarios")},children:(w,z)=>{var p=Wt(),C=v(p);fe(C,{class:"w-5 h-5 mr-2"}),u(),s(w,p)},$$slots:{default:!0}});var n=a(b,2);V(n,{fullWidth:!0,variant:"secondary",className:"justify-start",$$events:{click:()=>I("/configuracoes")},children:(w,z)=>{var p=qt(),C=v(p);Ne(C,{class:"w-5 h-5 mr-2"}),u(),s(w,p)},$$slots:{default:!0}}),e(g),s(i,f)},$$slots:{default:!0}})},Qe=r=>{j(r,{className:"bg-gradient-to-br from-brand-600 to-brand-800 text-white border-none shadow-xl shadow-brand-200",children:(i,m)=>{var f=Lt(),k=a(v(f),4);V(k,{variant:"secondary",fullWidth:!0,className:"bg-white/10 text-white border-white/20 hover:bg-white/20",children:(h,g)=>{u();var b=B("Ver Tutorial");s(h,b)},$$slots:{default:!0}}),s(i,f)},$$slots:{default:!0}})};T(be,r=>{D()?r(Ke):r(Qe,!1)})}var Xe=a(be,2);j(Xe,{padding:"p-8",children:(r,i)=>{var m=Rt(),f=v(m),k=t(f);Ae(k,{class:"w-5 h-5 text-brand-600"}),u(),e(f);var h=a(f,2),g=t(h);Ae(g,{class:"w-8 h-8 text-surface-200 mb-2"}),u(2),e(h);var b=a(h,2);V(b,{variant:"ghost",fullWidth:!0,className:"mt-6",$$events:{click:()=>I("/agenda")},children:(n,w)=>{u();var z=B("Abrir Agenda");s(n,z)},$$slots:{default:!0}}),s(r,m)},$$slots:{default:!0}}),e(xe),e(ge),e(ae),s(K,ae),at(),ee()}export{ca as component};
