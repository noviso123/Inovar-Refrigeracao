import{f as p,a as f,s as m,c as ze,t as ae,e as Ae}from"../chunks/DXVr3TX4.js";import{i as Pe}from"../chunks/CL5J6ee3.js";import{p as je,o as Fe,l as re,a as Te,t as _,b as Ye,g as e,c as r,s as o,d as h,m as $,n as y,r as a,f as se,u as n,e as Le}from"../chunks/yKYHuomA.js";import{i as B}from"../chunks/01UUdhOg.js";import{e as oe,i as ie}from"../chunks/TgNKz3rK.js";import{g as Re}from"../chunks/1EbW75xl.js";import{B as U,C as qe}from"../chunks/CMzhJ-sK.js";import{B as le}from"../chunks/Ba5MWzQS.js";import{S as Ee}from"../chunks/Cw1zHoOm.js";import{C as de}from"../chunks/BkbHu8l_.js";import{C as Ue}from"../chunks/Cjakf9eu.js";import{C as Ie}from"../chunks/BUY1kFW0.js";import{C as Ve}from"../chunks/BFNN5dmS.js";import{A as Ge}from"../chunks/ZivkMPVe.js";import{U as He}from"../chunks/B2Nmx6HV.js";import{M as Je}from"../chunks/BMl328JV.js";var Ke=p('<div class="space-y-4"></div>'),Oe=p('<div class="py-20 text-center bg-white rounded-[3rem] border-2 border-dashed border-surface-200"><div class="w-24 h-24 bg-surface-50 rounded-full flex items-center justify-center mx-auto mb-6"><!></div> <h3 class="text-2xl font-black text-surface-900">Nenhum serviço agendado</h3> <p class="text-surface-500 font-bold mt-2 max-w-sm mx-auto"> </p></div>'),Qe=p('<div class="flex items-center gap-2 text-sm font-bold text-surface-500"><!> </div>'),We=p('<div class="flex items-center gap-2 text-sm font-bold text-surface-500"><!> </div>'),Xe=p("Ver Detalhes <!>",1),Ze=p('<button class="w-full flex flex-col md:flex-row items-stretch text-left"><div class="bg-surface-50 md:w-32 flex flex-col items-center justify-center p-6 border-b md:border-b-0 md:border-r border-surface-100 group-hover:bg-brand-50 transition-colors"><span class="text-4xl font-black text-brand-600"> </span> <span class="text-xs font-black text-surface-400 uppercase tracking-widest mt-1"> </span></div> <div class="flex-1 p-8 flex flex-col md:flex-row md:items-center justify-between gap-6"><div class="space-y-3"><div class="flex items-center gap-3"><!> <!></div> <h3 class="text-2xl font-black text-surface-900 group-hover:text-brand-700 transition-colors"> </h3> <div class="flex flex-wrap items-center gap-6"><div class="flex items-center gap-2 text-sm font-bold text-surface-500"><!> </div> <!> <!></div></div> <div class="flex items-center gap-4"><!></div></div></button>'),et=p('<div class="space-y-6"></div>'),tt=p('<div class="min-h-screen bg-surface-50 pb-24"><div class="bg-white border-b border-surface-200 px-4 py-8"><div class="max-w-7xl mx-auto flex flex-col md:flex-row md:items-center justify-between gap-6"><div><h1 class="text-4xl font-black text-surface-900 tracking-tight flex items-center gap-3"><!> Agenda de Serviços</h1> <p class="text-surface-500 font-bold mt-2">Acompanhe e gerencie seus compromissos agendados</p></div> <div class="flex items-center gap-4 bg-surface-50 p-2 rounded-2xl border border-surface-200"><!> <span class="font-black text-lg capitalize min-w-[150px] text-center"> </span> <!></div></div></div> <div class="max-w-7xl mx-auto px-4 py-8"><!></div></div>');function ht(ce,ne){je(ne,!1);const N=$(),k=$();let S=$([]),z=$(!0),v=$(new Date);async function ve(){h(z,!0);try{const s=localStorage.getItem("token"),i=await fetch("/api/solicitacoes",{headers:{Authorization:`Bearer ${s}`}});if(i.ok){const b=await i.json();h(S,b.filter(D=>D.scheduled_date))}}catch(s){console.error("Erro ao carregar eventos:",s)}finally{h(z,!1)}}function fe(){h(v,new Date(e(v).getFullYear(),e(v).getMonth()-1))}function me(){h(v,new Date(e(v).getFullYear(),e(v).getMonth()+1))}function ue(s){return new Date(s).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}Fe(()=>{ve()}),re(()=>e(v),()=>{h(N,e(v).toLocaleDateString("pt-BR",{month:"long",year:"numeric"}))}),re(()=>(e(S),e(v)),()=>{h(k,e(S).filter(s=>{if(!s.scheduled_date)return!1;const i=new Date(s.scheduled_date);return i.getMonth()===e(v).getMonth()&&i.getFullYear()===e(v).getFullYear()}).sort((s,i)=>new Date(s.scheduled_date).getTime()-new Date(i.scheduled_date).getTime()))}),Te(),Pe();var A=tt(),P=r(A),I=r(P),j=r(I),V=r(j),pe=r(V);de(pe,{class:"w-10 h-10 text-brand-600"}),y(),a(V),y(2),a(j);var G=o(j,2),H=r(G);U(H,{variant:"ghost",size:"sm",className:"p-2",$$events:{click:fe},children:(s,i)=>{Ue(s,{class:"w-5 h-5"})},$$slots:{default:!0}});var F=o(H,2),xe=r(F,!0);a(F);var _e=o(F,2);U(_e,{variant:"ghost",size:"sm",className:"p-2",$$events:{click:me},children:(s,i)=>{Ie(s,{class:"w-5 h-5"})},$$slots:{default:!0}}),a(G),a(I),a(P);var J=o(P,2),he=r(J);{var ge=s=>{var i=Ke();oe(i,4,()=>Array(4),ie,(b,D)=>{Ee(b,{className:"h-32 rounded-[2rem]"})}),a(i),f(s,i)},be=s=>{var i=ze(),b=se(i);{var D=g=>{var x=Oe(),w=r(x),t=r(w);de(t,{class:"w-12 h-12 text-surface-200"}),a(w);var M=o(w,4),K=r(M);a(M),a(x),_(()=>m(K,`Não há compromissos registrados para ${e(N)??""}.`)),f(g,x)},we=g=>{var x=et();oe(x,5,()=>e(k),ie,(w,t)=>{qe(w,{padding:"p-0",className:"group overflow-hidden hover:border-brand-500 hover:shadow-2xl hover:shadow-brand-500/10 transition-all duration-300",children:(M,K)=>{var C=Ze(),T=r(C),Y=r(T),$e=r(Y,!0);a(Y);var O=o(Y,2),ye=r(O,!0);a(O),a(T);var Q=o(T,2),L=r(Q),R=r(L),W=r(R);le(W,{variant:"neutral",size:"sm",className:"font-mono",children:(l,c)=>{y();var d=ae();_(()=>m(d,`#${e(t),n(()=>e(t).sequential_id)??""}`)),f(l,d)},$$slots:{default:!0}});var ke=o(W,2);{let l=Le(()=>(e(t),n(()=>e(t).status==="concluido"?"success":e(t).status==="em_andamento"?"warning":"neutral")));le(ke,{get variant(){return e(l)},size:"sm",children:(c,d)=>{y();var u=ae();_(()=>m(u,(e(t),n(()=>e(t).status)))),f(c,u)},$$slots:{default:!0}})}a(R);var q=o(R,2),De=r(q,!0);a(q);var X=o(q,2),E=r(X),Z=r(E);Ve(Z,{class:"w-4 h-4 text-brand-500"});var Me=o(Z);a(E);var ee=o(E,2);{var Ce=l=>{var c=Qe(),d=r(c);He(d,{class:"w-4 h-4 text-brand-500"});var u=o(d);a(c),_(()=>m(u,` ${e(t),n(()=>e(t).cliente.nome)??""}`)),f(l,c)};B(ee,l=>{e(t),n(()=>e(t).cliente)&&l(Ce)})}var Be=o(ee,2);{var Ne=l=>{var c=We(),d=r(c);Je(d,{class:"w-4 h-4 text-brand-500"});var u=o(d);a(c),_(()=>m(u,` ${e(t),n(()=>e(t).local.city)??""}`)),f(l,c)};B(Be,l=>{e(t),n(()=>e(t).local?.city)&&l(Ne)})}a(X),a(L);var te=o(L,2),Se=r(te);U(Se,{variant:"secondary",className:"group-hover:bg-brand-600 group-hover:text-white transition-all",children:(l,c)=>{y();var d=Xe(),u=o(se(d));Ge(u,{class:"w-4 h-4 ml-2"}),f(l,d)},$$slots:{default:!0}}),a(te),a(Q),a(C),_((l,c,d)=>{m($e,l),m(ye,c),m(De,(e(t),n(()=>e(t).titulo))),m(Me,` ${d??""}`)},[()=>(e(t),n(()=>new Date(e(t).scheduled_date).getDate())),()=>(e(t),n(()=>new Date(e(t).scheduled_date).toLocaleDateString("pt-BR",{weekday:"short"}))),()=>(e(t),n(()=>ue(e(t).scheduled_date)))]),Ae("click",C,()=>Re(`/solicitacao/${e(t).id}`)),f(M,C)},$$slots:{default:!0}})}),a(x),f(g,x)};B(b,g=>{e(k),n(()=>e(k).length===0)?g(D):g(we,!1)},!0)}f(s,i)};B(he,s=>{e(z)?s(ge):s(be,!1)})}a(J),a(A),_(()=>m(xe,e(N))),f(ce,A),Ye()}export{ht as component};
